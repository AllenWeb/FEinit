#!/usr/bin/env node

var fs = require('fs');
var join = require('path').join;
var help = join(__dirname, 'help.txt');
var path = require('path');

// var cli = require('../lib/node_modules/grunt/lib/grunt/cli');
// var cmds = cli.tasks,
//     route = cmds.join(' ').trim('');

var route = process.argv.slice(2);
route = route.join(' ').trim('');

var root = join(__dirname, '../');

if (/^help/.test(route)) {
    if (/^help$/.test(route)) {
        return fs.createReadStream(help).pipe(process.stdout);
    }

}

if (/-v|version/.test(route)) {
    console.log('121');
    console.log('fe  v%s', require('../package.json').version);
}

if (/^init$/.test(route)) {
    var exeRoute = path.dirname(process.argv[1]) + '/';
    var FE = require(root + '/lib/FEinit');
    FE.init(exeRoute).start();
}